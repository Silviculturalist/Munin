<!DOCTYPE html>

<html lang="en" data-content_root="../../../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Munin.Volume.sweden.Naslund1947 &#8212; Munin  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css?v=5ecbeea2" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/basic.css?v=686e5160" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/alabaster.css?v=27fed22d" />
    <script src="../../../../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../../../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
   
  <link rel="stylesheet" href="../../../../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <h1>Source code for Munin.Volume.sweden.Naslund1947</h1><div class="highlight"><pre>
<span></span><span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Optional</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">Munin.Timber.Timber</span><span class="w"> </span><span class="kn">import</span> <span class="n">Timber</span>

<div class="viewcode-block" id="NaslundVolume">
<a class="viewcode-back" href="../../../../api/Munin.Volume.sweden.html#Munin.Volume.sweden.Naslund1947.NaslundVolume">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">NaslundVolume</span><span class="p">:</span>
<div class="viewcode-block" id="NaslundVolume.calculate">
<a class="viewcode-back" href="../../../../api/Munin.Volume.sweden.html#Munin.Volume.sweden.Naslund1947.NaslundVolume.calculate">[docs]</a>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">calculate</span><span class="p">(</span><span class="n">timber</span><span class="p">:</span> <span class="n">Timber</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="n">timber</span><span class="o">.</span><span class="n">validate</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">timber</span><span class="o">.</span><span class="n">region</span> <span class="o">==</span> <span class="s2">&quot;southern&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">timber</span><span class="o">.</span><span class="n">species</span> <span class="o">==</span> <span class="s2">&quot;pinus sylvestris&quot;</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">NaslundVolume</span><span class="o">.</span><span class="n">_southern_pine_volume</span><span class="p">(</span><span class="n">timber</span><span class="p">)</span><span class="o">/</span><span class="mi">1000</span>
            <span class="k">elif</span> <span class="n">timber</span><span class="o">.</span><span class="n">species</span> <span class="o">==</span> <span class="s2">&quot;picea abies&quot;</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">NaslundVolume</span><span class="o">.</span><span class="n">_southern_spruce_volume</span><span class="p">(</span><span class="n">timber</span><span class="p">)</span><span class="o">/</span><span class="mi">1000</span>
            <span class="k">elif</span> <span class="n">timber</span><span class="o">.</span><span class="n">species</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;betula&quot;</span><span class="p">,</span> <span class="s2">&quot;betula pendula&quot;</span><span class="p">,</span> <span class="s2">&quot;betula pubescens&quot;</span><span class="p">]:</span>
                <span class="k">return</span> <span class="n">NaslundVolume</span><span class="o">.</span><span class="n">_southern_birch_volume</span><span class="p">(</span><span class="n">timber</span><span class="p">)</span><span class="o">/</span><span class="mi">1000</span>
        <span class="k">elif</span> <span class="n">timber</span><span class="o">.</span><span class="n">region</span> <span class="o">==</span> <span class="s2">&quot;northern&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">timber</span><span class="o">.</span><span class="n">species</span> <span class="o">==</span> <span class="s2">&quot;pinus sylvestris&quot;</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">NaslundVolume</span><span class="o">.</span><span class="n">_northern_pine_volume</span><span class="p">(</span><span class="n">timber</span><span class="p">)</span><span class="o">/</span><span class="mi">1000</span>
            <span class="k">elif</span> <span class="n">timber</span><span class="o">.</span><span class="n">species</span> <span class="o">==</span> <span class="s2">&quot;picea abies&quot;</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">NaslundVolume</span><span class="o">.</span><span class="n">_northern_spruce_volume</span><span class="p">(</span><span class="n">timber</span><span class="p">)</span><span class="o">/</span><span class="mi">1000</span>
            <span class="k">elif</span> <span class="n">timber</span><span class="o">.</span><span class="n">species</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;betula&quot;</span><span class="p">,</span> <span class="s2">&quot;betula pendula&quot;</span><span class="p">,</span> <span class="s2">&quot;betula pubescens&quot;</span><span class="p">]:</span>
                <span class="k">return</span> <span class="n">NaslundVolume</span><span class="o">.</span><span class="n">_northern_birch_volume</span><span class="p">(</span><span class="n">timber</span><span class="p">)</span><span class="o">/</span><span class="mi">1000</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Volume calculation for </span><span class="si">{</span><span class="n">timber</span><span class="o">.</span><span class="n">species</span><span class="si">}</span><span class="s2"> in </span><span class="si">{</span><span class="n">timber</span><span class="o">.</span><span class="n">region</span><span class="si">}</span><span class="s2"> region is not implemented.&quot;</span>
        <span class="p">)</span></div>


    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_southern_pine_volume</span><span class="p">(</span><span class="n">timber</span><span class="p">:</span> <span class="n">Timber</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">timber</span><span class="o">.</span><span class="n">over_bark</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">timber</span><span class="o">.</span><span class="n">crown_base_height_m</span> <span class="ow">and</span> <span class="n">timber</span><span class="o">.</span><span class="n">double_bark_mm</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">(</span>
                    <span class="mf">0.1193</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">+</span> <span class="mf">0.02574</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">+</span> <span class="mf">0.007262</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">crown_base_height_m</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">+</span> <span class="mf">0.004054</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">-</span> <span class="mf">0.003112</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">double_bark_mm</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">(</span>
                    <span class="mf">0.1072</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">+</span> <span class="mf">0.02427</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">+</span> <span class="mf">0.007315</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span><span class="o">**</span><span class="mi">2</span>
                <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">timber</span><span class="o">.</span><span class="n">crown_base_height_m</span> <span class="ow">and</span> <span class="n">timber</span><span class="o">.</span><span class="n">double_bark_mm</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">(</span>
                    <span class="mf">0.07141</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">+</span> <span class="mf">0.02580</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">+</span> <span class="mf">0.009430</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">crown_base_height_m</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">+</span> <span class="mf">0.003511</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">+</span> <span class="mf">0.001052</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">double_bark_mm</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">(</span>
                    <span class="mf">0.06271</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">+</span> <span class="mf">0.03208</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">+</span> <span class="mf">0.005725</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span><span class="o">**</span><span class="mi">2</span>
                <span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_southern_spruce_volume</span><span class="p">(</span><span class="n">timber</span><span class="p">:</span> <span class="n">Timber</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">timber</span><span class="o">.</span><span class="n">over_bark</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">timber</span><span class="o">.</span><span class="n">crown_base_height_m</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">(</span>
                    <span class="mf">0.1059</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">+</span> <span class="mf">0.01968</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">+</span> <span class="mf">0.006168</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">crown_base_height_m</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">+</span> <span class="mf">0.01468</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">-</span> <span class="mf">0.04585</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span><span class="o">**</span><span class="mi">2</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">(</span>
                    <span class="mf">0.1104</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">+</span> <span class="mf">0.01928</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">+</span> <span class="mf">0.01815</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">-</span> <span class="mf">0.04936</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span><span class="o">**</span><span class="mi">2</span>
                <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">timber</span><span class="o">.</span><span class="n">crown_base_height_m</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">(</span>
                    <span class="mf">0.1039</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">+</span> <span class="mf">0.01959</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">+</span> <span class="mf">0.005942</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">crown_base_height_m</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">+</span> <span class="mf">0.01417</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">-</span> <span class="mf">0.04332</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span><span class="o">**</span><span class="mi">2</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">(</span>
                    <span class="mf">0.1076</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">+</span> <span class="mf">0.01929</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">+</span> <span class="mf">0.01723</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">-</span> <span class="mf">0.04615</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span><span class="o">**</span><span class="mi">2</span>
                <span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_southern_birch_volume</span><span class="p">(</span><span class="n">timber</span><span class="p">:</span> <span class="n">Timber</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">timber</span><span class="o">.</span><span class="n">over_bark</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">timber</span><span class="o">.</span><span class="n">double_bark_mm</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">(</span>
                    <span class="mf">0.09595</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">+</span> <span class="mf">0.02375</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">+</span> <span class="mf">0.01221</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">-</span> <span class="mf">0.03636</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">-</span> <span class="mf">0.004605</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">double_bark_mm</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">(</span>
                    <span class="mf">0.1432</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">+</span> <span class="mf">0.008561</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">+</span> <span class="mf">0.02180</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">-</span> <span class="mf">0.06630</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span><span class="o">**</span><span class="mi">2</span>
                <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">timber</span><span class="o">.</span><span class="n">double_bark_mm</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">(</span>
                    <span class="mf">0.08953</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">+</span> <span class="mf">0.02101</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">+</span> <span class="mf">0.01171</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">-</span> <span class="mf">0.03189</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">-</span> <span class="mf">0.0007244</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">double_bark_mm</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">(</span>
                    <span class="mf">0.09944</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">+</span> <span class="mf">0.01862</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">+</span> <span class="mf">0.01278</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">-</span> <span class="mf">0.03544</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span><span class="o">**</span><span class="mi">2</span>
                <span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_northern_pine_volume</span><span class="p">(</span><span class="n">timber</span><span class="p">:</span> <span class="n">Timber</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">timber</span><span class="o">.</span><span class="n">over_bark</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">timber</span><span class="o">.</span><span class="n">crown_base_height_m</span> <span class="ow">and</span> <span class="n">timber</span><span class="o">.</span><span class="n">double_bark_mm</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">(</span>
                    <span class="mf">0.1018</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">+</span> <span class="mf">0.03112</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span>
                    <span class="o">+</span> <span class="mf">0.007312</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">crown_base_height_m</span>
                    <span class="o">-</span> <span class="mf">0.002906</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">double_bark_mm</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">(</span>
                    <span class="mf">0.09314</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">+</span> <span class="mf">0.03069</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span>
                    <span class="o">+</span> <span class="mf">0.002818</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span><span class="o">**</span><span class="mi">2</span>
                <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">timber</span><span class="o">.</span><span class="n">crown_base_height_m</span> <span class="ow">and</span> <span class="n">timber</span><span class="o">.</span><span class="n">double_bark_mm</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">(</span>
                    <span class="mf">0.06059</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">+</span> <span class="mf">0.03153</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span>
                    <span class="o">+</span> <span class="mf">0.007919</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">crown_base_height_m</span>
                    <span class="o">+</span> <span class="mf">0.001773</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">double_bark_mm</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">(</span>
                    <span class="mf">0.05491</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">+</span> <span class="mf">0.03641</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span>
                    <span class="o">+</span> <span class="mf">0.002699</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span><span class="o">**</span><span class="mi">2</span>
                <span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_northern_spruce_volume</span><span class="p">(</span><span class="n">timber</span><span class="p">:</span> <span class="n">Timber</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">timber</span><span class="o">.</span><span class="n">over_bark</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">timber</span><span class="o">.</span><span class="n">crown_base_height_m</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">(</span>
                    <span class="mf">0.1102</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">+</span> <span class="mf">0.01648</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span>
                    <span class="o">+</span> <span class="mf">0.005901</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">crown_base_height_m</span>
                    <span class="o">+</span> <span class="mf">0.01929</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">-</span> <span class="mf">0.05565</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span><span class="o">**</span><span class="mi">2</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">(</span>
                    <span class="mf">0.1202</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">+</span> <span class="mf">0.01504</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span>
                    <span class="o">+</span> <span class="mf">0.02341</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">-</span> <span class="mf">0.06590</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span><span class="o">**</span><span class="mi">2</span>
                <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">timber</span><span class="o">.</span><span class="n">crown_base_height_m</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">(</span>
                    <span class="mf">0.1057</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">+</span> <span class="mf">0.01658</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span>
                    <span class="o">+</span> <span class="mf">0.006267</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">crown_base_height_m</span>
                    <span class="o">+</span> <span class="mf">0.01782</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">-</span> <span class="mf">0.04681</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span><span class="o">**</span><span class="mi">2</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">(</span>
                    <span class="mf">0.1153</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">+</span> <span class="mf">0.01522</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span>
                    <span class="o">+</span> <span class="mf">0.02170</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">-</span> <span class="mf">0.05501</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span><span class="o">**</span><span class="mi">2</span>
                <span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_northern_birch_volume</span><span class="p">(</span><span class="n">timber</span><span class="p">:</span> <span class="n">Timber</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">timber</span><span class="o">.</span><span class="n">over_bark</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">timber</span><span class="o">.</span><span class="n">crown_base_height_m</span> <span class="ow">and</span> <span class="n">timber</span><span class="o">.</span><span class="n">double_bark_mm</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">(</span>
                    <span class="mf">0.04192</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">+</span> <span class="mf">0.02927</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span>
                    <span class="o">+</span> <span class="mf">0.003263</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">crown_base_height_m</span>
                    <span class="o">+</span> <span class="mf">0.003719</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">-</span> <span class="mf">0.001692</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">double_bark_mm</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">(</span>
                    <span class="mf">0.03715</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">+</span> <span class="mf">0.02892</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span>
                    <span class="o">+</span> <span class="mf">0.004983</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span><span class="o">**</span><span class="mi">2</span>
                <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">timber</span><span class="o">.</span><span class="n">crown_base_height_m</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">(</span>
                    <span class="mf">0.03328</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">+</span> <span class="mf">0.02876</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span>
                    <span class="o">+</span> <span class="mf">0.002991</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">crown_base_height_m</span>
                    <span class="o">+</span> <span class="mf">0.003695</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span><span class="o">**</span><span class="mi">2</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">(</span>
                    <span class="mf">0.02703</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">+</span> <span class="mf">0.03023</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span>
                    <span class="o">+</span> <span class="mf">0.004346</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">diameter_cm</span> <span class="o">*</span> <span class="n">timber</span><span class="o">.</span><span class="n">height_m</span><span class="o">**</span><span class="mi">2</span>
                <span class="p">)</span></div>


<div class="viewcode-block" id="NaslundFormFactor">
<a class="viewcode-back" href="../../../../api/Munin.Volume.sweden.html#Munin.Volume.sweden.Naslund1947.NaslundFormFactor">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">NaslundFormFactor</span><span class="p">:</span>
<div class="viewcode-block" id="NaslundFormFactor.calculate">
<a class="viewcode-back" href="../../../../api/Munin.Volume.sweden.html#Munin.Volume.sweden.Naslund1947.NaslundFormFactor.calculate">[docs]</a>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">calculate</span><span class="p">(</span>
        <span class="n">species</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">height_m</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
        <span class="n">diameter_cm</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
        <span class="n">double_bark_mm</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">crown_base_height_m</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">over_bark</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">region</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;southern&quot;</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">diameter_cm</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Diameter must be larger than 5 cm.&quot;</span><span class="p">)</span>

        <span class="n">species</span> <span class="o">=</span> <span class="n">species</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
        <span class="n">region</span> <span class="o">=</span> <span class="n">region</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">region</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;northern&quot;</span><span class="p">,</span> <span class="s2">&quot;southern&quot;</span><span class="p">]:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Region must be &#39;northern&#39; or &#39;southern&#39;.&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">species</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="s2">&quot;pinus sylvestris&quot;</span><span class="p">,</span>
            <span class="s2">&quot;picea abies&quot;</span><span class="p">,</span>
            <span class="s2">&quot;betula&quot;</span><span class="p">,</span>
            <span class="s2">&quot;betula pendula&quot;</span><span class="p">,</span>
            <span class="s2">&quot;betula pubescens&quot;</span><span class="p">,</span>
        <span class="p">]:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;Species must be one of: pinus sylvestris, picea abies, betula, betula pendula, betula pubescens.&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">region</span> <span class="o">==</span> <span class="s2">&quot;southern&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">species</span> <span class="o">==</span> <span class="s2">&quot;pinus sylvestris&quot;</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">NaslundFormFactor</span><span class="o">.</span><span class="n">_southern_pine_form_factor</span><span class="p">(</span>
                    <span class="n">height_m</span><span class="p">,</span> <span class="n">diameter_cm</span><span class="p">,</span> <span class="n">double_bark_mm</span><span class="p">,</span> <span class="n">crown_base_height_m</span><span class="p">,</span> <span class="n">over_bark</span>
                <span class="p">)</span>
            <span class="k">elif</span> <span class="n">species</span> <span class="o">==</span> <span class="s2">&quot;picea abies&quot;</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">NaslundFormFactor</span><span class="o">.</span><span class="n">_southern_spruce_form_factor</span><span class="p">(</span>
                    <span class="n">height_m</span><span class="p">,</span> <span class="n">diameter_cm</span><span class="p">,</span> <span class="n">crown_base_height_m</span><span class="p">,</span> <span class="n">over_bark</span>
                <span class="p">)</span>
            <span class="k">elif</span> <span class="n">species</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;betula&quot;</span><span class="p">,</span> <span class="s2">&quot;betula pendula&quot;</span><span class="p">,</span> <span class="s2">&quot;betula pubescens&quot;</span><span class="p">]:</span>
                <span class="k">return</span> <span class="n">NaslundFormFactor</span><span class="o">.</span><span class="n">_southern_birch_form_factor</span><span class="p">(</span>
                    <span class="n">height_m</span><span class="p">,</span> <span class="n">diameter_cm</span><span class="p">,</span> <span class="n">double_bark_mm</span><span class="p">,</span> <span class="n">over_bark</span>
                <span class="p">)</span>
        <span class="k">elif</span> <span class="n">region</span> <span class="o">==</span> <span class="s2">&quot;northern&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">species</span> <span class="o">==</span> <span class="s2">&quot;pinus sylvestris&quot;</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">NaslundFormFactor</span><span class="o">.</span><span class="n">_northern_pine_form_factor</span><span class="p">(</span>
                    <span class="n">height_m</span><span class="p">,</span> <span class="n">diameter_cm</span><span class="p">,</span> <span class="n">double_bark_mm</span><span class="p">,</span> <span class="n">crown_base_height_m</span><span class="p">,</span> <span class="n">over_bark</span>
                <span class="p">)</span>
            <span class="k">elif</span> <span class="n">species</span> <span class="o">==</span> <span class="s2">&quot;picea abies&quot;</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">NaslundFormFactor</span><span class="o">.</span><span class="n">_northern_spruce_form_factor</span><span class="p">(</span>
                    <span class="n">height_m</span><span class="p">,</span> <span class="n">diameter_cm</span><span class="p">,</span> <span class="n">crown_base_height_m</span><span class="p">,</span> <span class="n">over_bark</span>
                <span class="p">)</span>
            <span class="k">elif</span> <span class="n">species</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;betula&quot;</span><span class="p">,</span> <span class="s2">&quot;betula pendula&quot;</span><span class="p">,</span> <span class="s2">&quot;betula pubescens&quot;</span><span class="p">]:</span>
                <span class="k">return</span> <span class="n">NaslundFormFactor</span><span class="o">.</span><span class="n">_northern_birch_form_factor</span><span class="p">(</span>
                    <span class="n">height_m</span><span class="p">,</span> <span class="n">diameter_cm</span><span class="p">,</span> <span class="n">double_bark_mm</span><span class="p">,</span> <span class="n">crown_base_height_m</span><span class="p">,</span> <span class="n">over_bark</span>
                <span class="p">)</span>

        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Form factor calculation for </span><span class="si">{</span><span class="n">species</span><span class="si">}</span><span class="s2"> in </span><span class="si">{</span><span class="n">region</span><span class="si">}</span><span class="s2"> region is not implemented.&quot;</span>
        <span class="p">)</span></div>


    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_southern_pine_form_factor</span><span class="p">(</span>
        <span class="n">height_m</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
        <span class="n">diameter_cm</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
        <span class="n">double_bark_mm</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span>
        <span class="n">crown_base_height_m</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span>
        <span class="n">over_bark</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">over_bark</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">crown_base_height_m</span> <span class="ow">and</span> <span class="n">double_bark_mm</span><span class="p">:</span>
                <span class="n">K</span> <span class="o">=</span> <span class="p">((</span><span class="n">height_m</span> <span class="o">-</span> <span class="n">crown_base_height_m</span><span class="p">)</span> <span class="o">/</span> <span class="n">height_m</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>
                <span class="n">B</span> <span class="o">=</span> <span class="p">((</span><span class="n">double_bark_mm</span> <span class="o">/</span> <span class="mi">10</span><span class="p">)</span> <span class="o">/</span> <span class="n">diameter_cm</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>
                <span class="k">return</span> <span class="p">(</span>
                    <span class="mf">420.16</span>
                    <span class="o">+</span> <span class="mf">1519.24</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="n">height_m</span><span class="p">)</span>
                    <span class="o">+</span> <span class="mf">51.62</span> <span class="o">*</span> <span class="p">(</span><span class="n">height_m</span> <span class="o">/</span> <span class="n">diameter_cm</span><span class="p">)</span>
                    <span class="o">-</span> <span class="mf">3.962</span> <span class="o">*</span> <span class="n">B</span>
                    <span class="o">-</span> <span class="mf">0.9246</span> <span class="o">*</span> <span class="n">K</span>
                <span class="p">)</span><span class="o">/</span><span class="mi">1000</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">(</span>
                    <span class="mf">308.97</span>
                    <span class="o">+</span> <span class="mf">1365.38</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="n">height_m</span><span class="p">)</span>
                    <span class="o">+</span> <span class="mf">93.14</span> <span class="o">*</span> <span class="p">(</span><span class="n">height_m</span> <span class="o">/</span> <span class="n">diameter_cm</span><span class="p">)</span>
                <span class="p">)</span><span class="o">/</span><span class="mi">1000</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">crown_base_height_m</span> <span class="ow">and</span> <span class="n">double_bark_mm</span><span class="p">:</span>
                <span class="n">K</span> <span class="o">=</span> <span class="p">((</span><span class="n">height_m</span> <span class="o">-</span> <span class="n">crown_base_height_m</span><span class="p">)</span> <span class="o">/</span> <span class="n">height_m</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>
                <span class="n">B</span> <span class="o">=</span> <span class="p">((</span><span class="n">double_bark_mm</span> <span class="o">/</span> <span class="mi">10</span><span class="p">)</span> <span class="o">/</span> <span class="n">diameter_cm</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>
                <span class="k">return</span> <span class="p">(</span>
                    <span class="mf">448.53</span>
                    <span class="o">+</span> <span class="mf">909.21</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="n">height_m</span><span class="p">)</span>
                    <span class="o">+</span> <span class="mf">44.71</span> <span class="o">*</span> <span class="p">(</span><span class="n">height_m</span> <span class="o">/</span> <span class="n">diameter_cm</span><span class="p">)</span>
                    <span class="o">+</span> <span class="mf">1.339</span> <span class="o">*</span> <span class="n">B</span>
                    <span class="o">-</span> <span class="mf">1.201</span> <span class="o">*</span> <span class="n">K</span>
                <span class="p">)</span><span class="o">/</span><span class="mi">1000</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">(</span>
                    <span class="mf">408.49</span>
                    <span class="o">+</span> <span class="mf">798.46</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="n">height_m</span><span class="p">)</span>
                    <span class="o">+</span> <span class="mf">72.89</span> <span class="o">*</span> <span class="p">(</span><span class="n">height_m</span> <span class="o">/</span> <span class="n">diameter_cm</span><span class="p">)</span>
                <span class="p">)</span><span class="o">/</span><span class="mi">1000</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_southern_spruce_form_factor</span><span class="p">(</span>
        <span class="n">height_m</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
        <span class="n">diameter_cm</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
        <span class="n">crown_base_height_m</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span>
        <span class="n">over_bark</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">over_bark</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">crown_base_height_m</span><span class="p">:</span>
                <span class="n">K</span> <span class="o">=</span> <span class="p">((</span><span class="n">height_m</span> <span class="o">-</span> <span class="n">crown_base_height_m</span><span class="p">)</span> <span class="o">/</span> <span class="n">height_m</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>
                <span class="k">return</span> <span class="p">(</span>
                    <span class="mf">329.09</span>
                    <span class="o">+</span> <span class="mf">1348.92</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="n">height_m</span><span class="p">)</span>
                    <span class="o">+</span> <span class="mf">186.94</span> <span class="o">*</span> <span class="p">(</span><span class="n">height_m</span> <span class="o">/</span> <span class="n">diameter_cm</span><span class="p">)</span>
                    <span class="o">-</span> <span class="mf">583.74</span> <span class="o">*</span> <span class="n">height_m</span> <span class="o">/</span> <span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">-</span> <span class="mf">0.7854</span> <span class="o">*</span> <span class="n">K</span>
                <span class="p">)</span><span class="o">/</span><span class="mi">1000</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">(</span>
                    <span class="mf">245.09</span>
                    <span class="o">+</span> <span class="mf">1405.66</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="n">height_m</span><span class="p">)</span>
                    <span class="o">+</span> <span class="mf">231.11</span> <span class="o">*</span> <span class="p">(</span><span class="n">height_m</span> <span class="o">/</span> <span class="n">diameter_cm</span><span class="p">)</span>
                    <span class="o">-</span> <span class="mf">628.48</span> <span class="o">*</span> <span class="n">height_m</span> <span class="o">/</span> <span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span>
                <span class="p">)</span><span class="o">/</span><span class="mi">1000</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">crown_base_height_m</span><span class="p">:</span>
                <span class="n">K</span> <span class="o">=</span> <span class="p">((</span><span class="n">height_m</span> <span class="o">-</span> <span class="n">crown_base_height_m</span><span class="p">)</span> <span class="o">/</span> <span class="n">height_m</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>
                <span class="k">return</span> <span class="p">(</span>
                    <span class="mf">325.04</span>
                    <span class="o">+</span> <span class="mf">1322.62</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="n">height_m</span><span class="p">)</span>
                    <span class="o">+</span> <span class="mf">180.36</span> <span class="o">*</span> <span class="p">(</span><span class="n">height_m</span> <span class="o">/</span> <span class="n">diameter_cm</span><span class="p">)</span>
                    <span class="o">-</span> <span class="mf">551.55</span> <span class="o">*</span> <span class="n">height_m</span> <span class="o">/</span> <span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">-</span> <span class="mf">0.7566</span> <span class="o">*</span> <span class="n">K</span>
                <span class="p">)</span><span class="o">/</span><span class="mi">1000</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">(</span>
                    <span class="mf">245.57</span>
                    <span class="o">+</span> <span class="mf">1369.89</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="n">height_m</span><span class="p">)</span>
                    <span class="o">+</span> <span class="mf">219.34</span> <span class="o">*</span> <span class="p">(</span><span class="n">height_m</span> <span class="o">/</span> <span class="n">diameter_cm</span><span class="p">)</span>
                    <span class="o">-</span> <span class="mf">587.65</span> <span class="o">*</span> <span class="n">height_m</span> <span class="o">/</span> <span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span>
                <span class="p">)</span><span class="o">/</span><span class="mi">1000</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_southern_birch_form_factor</span><span class="p">(</span>
        <span class="n">height_m</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
        <span class="n">diameter_cm</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
        <span class="n">double_bark_mm</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span>
        <span class="n">over_bark</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">over_bark</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">double_bark_mm</span><span class="p">:</span>
                <span class="n">B</span> <span class="o">=</span> <span class="p">((</span><span class="n">double_bark_mm</span> <span class="o">/</span> <span class="mi">10</span><span class="p">)</span> <span class="o">/</span> <span class="n">diameter_cm</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>
                <span class="k">return</span> <span class="p">(</span>
                    <span class="mf">302.45</span>
                    <span class="o">+</span> <span class="mf">1221.63</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="n">height_m</span><span class="p">)</span>
                    <span class="o">+</span> <span class="mf">155.44</span> <span class="o">*</span> <span class="p">(</span><span class="n">height_m</span> <span class="o">/</span> <span class="n">diameter_cm</span><span class="p">)</span>
                    <span class="o">-</span> <span class="mf">462.95</span> <span class="o">*</span> <span class="n">height_m</span> <span class="o">/</span> <span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">-</span> <span class="mf">5.864</span> <span class="o">*</span> <span class="n">B</span>
                <span class="p">)</span><span class="o">/</span><span class="mi">1000</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">(</span>
                    <span class="mf">109.01</span>
                    <span class="o">+</span> <span class="mf">1823.03</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="n">height_m</span><span class="p">)</span>
                    <span class="o">+</span> <span class="mf">277.56</span> <span class="o">*</span> <span class="p">(</span><span class="n">height_m</span> <span class="o">/</span> <span class="n">diameter_cm</span><span class="p">)</span>
                    <span class="o">-</span> <span class="mf">844.17</span> <span class="o">*</span> <span class="n">height_m</span> <span class="o">/</span> <span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span>
                <span class="p">)</span><span class="o">/</span><span class="mi">1000</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">double_bark_mm</span><span class="p">:</span>
                <span class="n">B</span> <span class="o">=</span> <span class="p">((</span><span class="n">double_bark_mm</span> <span class="o">/</span> <span class="mi">10</span><span class="p">)</span> <span class="o">/</span> <span class="n">diameter_cm</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>
                <span class="k">return</span> <span class="p">(</span>
                    <span class="mf">267.44</span>
                    <span class="o">+</span> <span class="mf">1139.98</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="n">height_m</span><span class="p">)</span>
                    <span class="o">+</span> <span class="mf">149.04</span> <span class="o">*</span> <span class="p">(</span><span class="n">height_m</span> <span class="o">/</span> <span class="n">diameter_cm</span><span class="p">)</span>
                    <span class="o">-</span> <span class="mf">406.04</span> <span class="o">*</span> <span class="n">height_m</span> <span class="o">/</span> <span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span>
                    <span class="o">-</span> <span class="mf">0.9224</span> <span class="o">*</span> <span class="n">B</span>
                <span class="p">)</span><span class="o">/</span><span class="mi">1000</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">(</span>
                    <span class="mf">237.03</span>
                    <span class="o">+</span> <span class="mf">1266.05</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="n">height_m</span><span class="p">)</span>
                    <span class="o">+</span> <span class="mf">162.72</span> <span class="o">*</span> <span class="p">(</span><span class="n">height_m</span> <span class="o">/</span> <span class="n">diameter_cm</span><span class="p">)</span>
                    <span class="o">-</span> <span class="mf">451.26</span> <span class="o">*</span> <span class="n">height_m</span> <span class="o">/</span> <span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span>
                <span class="p">)</span><span class="o">/</span><span class="mi">1000</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_northern_pine_form_factor</span><span class="p">(</span>
        <span class="n">height_m</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
        <span class="n">diameter_cm</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
        <span class="n">double_bark_mm</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span>
        <span class="n">crown_base_height_m</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span>
        <span class="n">over_bark</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">over_bark</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">crown_base_height_m</span> <span class="ow">and</span> <span class="n">double_bark_mm</span><span class="p">:</span>
                <span class="n">K</span> <span class="o">=</span> <span class="p">((</span><span class="n">height_m</span> <span class="o">-</span> <span class="n">crown_base_height_m</span><span class="p">)</span> <span class="o">/</span> <span class="n">height_m</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>
                <span class="n">B</span> <span class="o">=</span> <span class="p">((</span><span class="n">double_bark_mm</span> <span class="o">/</span> <span class="mi">10</span><span class="p">)</span> <span class="o">/</span> <span class="n">diameter_cm</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>
                <span class="k">return</span> <span class="p">(</span>
                    <span class="mf">489.35</span>
                    <span class="o">+</span> <span class="mf">1296.11</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="n">height_m</span><span class="p">)</span>
                    <span class="o">-</span> <span class="mi">3700</span> <span class="o">*</span> <span class="n">B</span>
                    <span class="o">-</span> <span class="mf">0.9310</span> <span class="o">*</span> <span class="n">K</span>
                <span class="p">)</span><span class="o">/</span><span class="mi">1000</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">(</span>
                    <span class="mf">390.81</span>
                    <span class="o">+</span> <span class="mf">1185.86</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="n">height_m</span><span class="p">)</span>
                    <span class="o">+</span> <span class="mf">35.88</span> <span class="o">*</span> <span class="p">(</span><span class="n">height_m</span> <span class="o">/</span> <span class="n">diameter_cm</span><span class="p">)</span>
                <span class="p">)</span><span class="o">/</span><span class="mi">1000</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">crown_base_height_m</span> <span class="ow">and</span> <span class="n">double_bark_mm</span><span class="p">:</span>
                <span class="n">K</span> <span class="o">=</span> <span class="p">((</span><span class="n">height_m</span> <span class="o">-</span> <span class="n">crown_base_height_m</span><span class="p">)</span> <span class="o">/</span> <span class="n">height_m</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>
                <span class="n">B</span> <span class="o">=</span> <span class="p">((</span><span class="n">double_bark_mm</span> <span class="o">/</span> <span class="mi">10</span><span class="p">)</span> <span class="o">/</span> <span class="n">diameter_cm</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>
                <span class="k">return</span> <span class="p">(</span>
                    <span class="mf">502.22</span>
                    <span class="o">+</span> <span class="mf">771.5</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="n">height_m</span><span class="p">)</span>
                    <span class="o">+</span> <span class="mf">2.257</span> <span class="o">*</span> <span class="n">B</span>
                    <span class="o">-</span> <span class="mf">1.008</span> <span class="o">*</span> <span class="n">K</span>
                <span class="p">)</span><span class="o">/</span><span class="mi">1000</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">(</span>
                    <span class="mf">463.55</span>
                    <span class="o">+</span> <span class="mf">699.14</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="n">height_m</span><span class="p">)</span>
                    <span class="o">+</span> <span class="mf">34.36</span> <span class="o">*</span> <span class="p">(</span><span class="n">height_m</span> <span class="o">/</span> <span class="n">diameter_cm</span><span class="p">)</span>
                <span class="p">)</span><span class="o">/</span><span class="mi">1000</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_northern_spruce_form_factor</span><span class="p">(</span>
        <span class="n">height_m</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
        <span class="n">diameter_cm</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
        <span class="n">crown_base_height_m</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span>
        <span class="n">over_bark</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">over_bark</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">crown_base_height_m</span><span class="p">:</span>
                <span class="n">K</span> <span class="o">=</span> <span class="p">((</span><span class="n">height_m</span> <span class="o">-</span> <span class="n">crown_base_height_m</span><span class="p">)</span> <span class="o">/</span> <span class="n">height_m</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>
                <span class="k">return</span> <span class="p">(</span>
                    <span class="mf">290.93</span>
                    <span class="o">+</span> <span class="mf">1346.06</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="n">height_m</span><span class="p">)</span>
                    <span class="o">+</span> <span class="mf">226.83</span> <span class="o">*</span> <span class="p">(</span><span class="n">height_m</span> <span class="o">/</span> <span class="n">diameter_cm</span><span class="p">)</span>
                    <span class="o">-</span> <span class="mf">595.98</span> <span class="o">*</span> <span class="p">(</span><span class="n">height_m</span> <span class="o">/</span> <span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
                    <span class="o">-</span> <span class="mf">0.7980</span> <span class="o">*</span> <span class="n">K</span>
                <span class="p">)</span><span class="o">/</span><span class="mi">1000</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">(</span>
                    <span class="mf">193.84</span>
                    <span class="o">+</span> <span class="mf">1467.46</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="n">height_m</span><span class="p">)</span>
                    <span class="o">+</span> <span class="mf">276.26</span> <span class="o">*</span> <span class="p">(</span><span class="n">height_m</span> <span class="o">/</span> <span class="n">diameter_cm</span><span class="p">)</span>
                    <span class="o">-</span> <span class="mf">700.45</span> <span class="o">*</span> <span class="p">(</span><span class="n">height_m</span> <span class="o">/</span> <span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
                <span class="p">)</span><span class="o">/</span><span class="mi">1000</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">crown_base_height_m</span><span class="p">:</span>
                <span class="n">K</span> <span class="o">=</span> <span class="p">((</span><span class="n">height_m</span> <span class="o">-</span> <span class="n">crown_base_height_m</span><span class="p">)</span> <span class="o">/</span> <span class="n">height_m</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>
                <span class="k">return</span> <span class="p">(</span>
                    <span class="mf">306.60</span>
                    <span class="o">+</span> <span class="mf">1363.31</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="n">height_m</span><span class="p">)</span>
                    <span class="o">+</span> <span class="mf">199.71</span> <span class="o">*</span> <span class="p">(</span><span class="n">height_m</span> <span class="o">/</span> <span class="n">diameter_cm</span><span class="p">)</span>
                    <span class="o">-</span> <span class="mf">591.81</span> <span class="o">*</span> <span class="p">(</span><span class="n">height_m</span> <span class="o">/</span> <span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
                    <span class="o">-</span> <span class="mf">0.7403</span> <span class="o">*</span> <span class="n">K</span>
                <span class="p">)</span><span class="o">/</span><span class="mi">1000</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">(</span>
                    <span class="mf">221.51</span>
                    <span class="o">+</span> <span class="mf">1431.21</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="n">height_m</span><span class="p">)</span>
                    <span class="o">+</span> <span class="mf">244.14</span> <span class="o">*</span> <span class="p">(</span><span class="n">height_m</span> <span class="o">/</span> <span class="n">diameter_cm</span><span class="p">)</span>
                    <span class="o">-</span> <span class="mf">652.09</span> <span class="o">*</span> <span class="p">(</span><span class="n">height_m</span> <span class="o">/</span> <span class="n">diameter_cm</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
                <span class="p">)</span><span class="o">/</span><span class="mi">1000</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_northern_birch_form_factor</span><span class="p">(</span>
        <span class="n">height_m</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
        <span class="n">diameter_cm</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
        <span class="n">double_bark_mm</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span>
        <span class="n">crown_base_height_m</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span>
        <span class="n">over_bark</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">over_bark</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">crown_base_height_m</span> <span class="ow">and</span> <span class="n">double_bark_mm</span><span class="p">:</span>
                <span class="n">K</span> <span class="o">=</span> <span class="p">((</span><span class="n">height_m</span> <span class="o">-</span> <span class="n">crown_base_height_m</span><span class="p">)</span> <span class="o">/</span> <span class="n">height_m</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>
                <span class="n">B</span> <span class="o">=</span> <span class="p">((</span><span class="n">double_bark_mm</span> <span class="o">/</span> <span class="mi">10</span><span class="p">)</span> <span class="o">/</span> <span class="n">diameter_cm</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>
                <span class="k">return</span> <span class="p">(</span>
                    <span class="mf">414.20</span>
                    <span class="o">+</span> <span class="mf">533.74</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="n">height_m</span><span class="p">)</span>
                    <span class="o">+</span> <span class="mf">47.35</span> <span class="o">*</span> <span class="p">(</span><span class="n">height_m</span> <span class="o">/</span> <span class="n">diameter_cm</span><span class="p">)</span>
                    <span class="o">-</span> <span class="mf">2.154</span> <span class="o">*</span> <span class="n">B</span>
                    <span class="o">-</span> <span class="mf">0.4154</span> <span class="o">*</span> <span class="n">K</span>
                <span class="p">)</span><span class="o">/</span><span class="mi">1000</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">(</span>
                    <span class="mf">368.17</span>
                    <span class="o">+</span> <span class="mi">473</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="n">height_m</span><span class="p">)</span>
                    <span class="o">+</span> <span class="mf">63.44</span> <span class="o">*</span> <span class="p">(</span><span class="n">height_m</span> <span class="o">/</span> <span class="n">diameter_cm</span><span class="p">)</span>
                <span class="p">)</span><span class="o">/</span><span class="mi">1000</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">crown_base_height_m</span><span class="p">:</span>
                <span class="n">K</span> <span class="o">=</span> <span class="p">((</span><span class="n">height_m</span> <span class="o">-</span> <span class="n">crown_base_height_m</span><span class="p">)</span> <span class="o">/</span> <span class="n">height_m</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>
                <span class="k">return</span> <span class="p">(</span>
                    <span class="mf">404.30</span>
                    <span class="o">+</span> <span class="mf">423.71</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="n">height_m</span><span class="p">)</span>
                    <span class="o">+</span> <span class="mf">47.05</span> <span class="o">*</span> <span class="p">(</span><span class="n">height_m</span> <span class="o">/</span> <span class="n">diameter_cm</span><span class="p">)</span>
                    <span class="o">-</span> <span class="mf">0.3808</span> <span class="o">*</span> <span class="n">K</span>
                <span class="p">)</span><span class="o">/</span><span class="mi">1000</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">(</span>
                    <span class="mf">384.88</span>
                    <span class="o">+</span> <span class="mf">344.14</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="n">height_m</span><span class="p">)</span>
                    <span class="o">+</span> <span class="mf">55.34</span> <span class="o">*</span> <span class="p">(</span><span class="n">height_m</span> <span class="o">/</span> <span class="n">diameter_cm</span><span class="p">)</span>
                <span class="p">)</span><span class="o">/</span><span class="mi">1000</span></div>


</pre></div>

          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../../index.html">Munin</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="../../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../api/modules.html">Munin</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../../index.html">Documentation overview</a><ul>
  <li><a href="../../../index.html">Module code</a><ul>
  </ul></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.1.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
    </div>

    

    
  </body>
</html>